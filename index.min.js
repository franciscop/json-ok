import e from"url";function r(e,r){return e(r={exports:{}},r.exports),r.exports}var t=r((function(r,t){var n=t.ValidationError=function(e,r,t,n,i,a){n&&(this.property=n),e&&(this.message=e),t&&(t.id?this.schema=t.id:this.schema=t),r&&(this.instance=r),this.name=i,this.argument=a,this.stack=this.toString()};n.prototype.toString=function(){return this.property+" "+this.message};var i=t.ValidatorResult=function(e,r,t,n){this.instance=e,this.schema=r,this.propertyPath=n.propertyPath,this.errors=[],this.throwError=t&&t.throwError,this.disableFormat=t&&!0===t.disableFormat};function a(e,r){return r+": "+e.toString()+"\n"}i.prototype.addError=function(e){var r;if("string"==typeof e)r=new n(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");r=new n(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw r;return this.errors.push(r),r},i.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)},i.prototype.toString=function(e){return this.errors.map(a).join("")},Object.defineProperty(i.prototype,"valid",{get:function(){return!this.errors.length}});var s=t.SchemaError=function e(r,t){this.message=r,this.schema=t,Error.call(this,r),Error.captureStackTrace(this,e)};s.prototype=Object.create(Error.prototype,{constructor:{value:s,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var o=t.SchemaContext=function(e,r,t,n,i){this.schema=e,this.options=r,this.propertyPath=t,this.base=n,this.schemas=i};o.prototype.resolve=function(r){return e.resolve(this.base,r)},o.prototype.makeChild=function(r,t){var n=void 0===t?this.propertyPath:this.propertyPath+u(t),i=e.resolve(this.base,r.id||""),a=new o(r,this.options,n,i,Object.create(this.schemas));return r.id&&!a.schemas[i]&&(a.schemas[i]=r),a};var m=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var r=!0;try{new RegExp(e)}catch(e){r=!1}return r},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};m.regexp=m.regex,m.pattern=m.regex,m.ipv4=m["ip-address"],t.isFormat=function(e,r,t){if("string"==typeof e&&void 0!==m[r]){if(m[r]instanceof RegExp)return m[r].test(e);if("function"==typeof m[r])return m[r](e)}else if(t&&t.customFormats&&"function"==typeof t.customFormats[r])return t.customFormats[r](e);return!0};var u=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function c(e,r,t,n){"object"==typeof t?r[n]=h(e[n],t):-1===e.indexOf(t)&&r.push(t)}function f(e,r,t){r[t]=e[t]}function d(e,r,t,n){"object"==typeof r[n]&&r[n]&&e[n]?t[n]=h(e[n],r[n]):t[n]=r[n]}function h(e,r){var t=Array.isArray(r),n=t&&[]||{};return t?(e=e||[],n=n.concat(e),r.forEach(c.bind(null,e,n))):(e&&"object"==typeof e&&Object.keys(e).forEach(f.bind(null,e,n)),Object.keys(r).forEach(d.bind(null,e,r,n))),n}function p(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(r,t){if(typeof r!=typeof t)return!1;if(r instanceof Array)return t instanceof Array&&(r.length===t.length&&r.every((function(n,i){return e(r[i],t[i])})));if("object"==typeof r){if(!r||!t)return r===t;var n=Object.keys(r),i=Object.keys(t);return n.length===i.length&&n.every((function(n){return e(r[n],t[n])}))}return r===t},r.exports.deepMerge=h,t.objectGetPath=function(e,r){for(var t,n=r.split("/").slice(1);"string"==typeof(t=n.shift());){var i=decodeURIComponent(t.replace(/~0/,"~").replace(/~1/g,"/"));if(!(i in e))return;e=e[i]}return e},t.encodePath=function(e){return e.map(p).join("")},t.getDecimalPlaces=function(e){var r=0;if(isNaN(e))return r;"number"!=typeof e&&(e=Number(e));var t=e.toString().split("e");if(2===t.length){if("-"!==t[1][0])return r;r=Number(t[1].slice(1))}var n=t[0].split(".");return 2===n.length&&(r+=n[1].length),r}})),n=(t.ValidationError,t.ValidatorResult,t.SchemaError,t.SchemaContext,t.FORMAT_REGEXPS,t.isFormat,t.makeSuffix,t.deepCompareStrict,t.deepMerge,t.objectGetPath,t.encodePath,t.getDecimalPlaces,t.ValidatorResult),i=t.SchemaError,a={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0}},s=a.validators={};function o(e,r,t,n,i){var a=r.throwError;r.throwError=!1;var s=this.validateSchema(e,i,r,t);return r.throwError=a,!s.valid&&n instanceof Function&&n(s),s.valid}function m(e,r,t,n,i,a){if(this.types.object(e)&&(!r.properties||void 0===r.properties[i]))if(!1===r.additionalProperties)a.addError({name:"additionalProperties",argument:i,message:"additionalProperty "+JSON.stringify(i)+" exists in instance when not allowed"});else{var s=r.additionalProperties||{};"function"==typeof t.preValidateProperty&&t.preValidateProperty(e,i,s,t,n);var o=this.validateSchema(e[i],s,t,n.makeChild(s,i));o.instance!==a.instance[i]&&(a.instance[i]=o.instance),a.importErrors(o)}}s.type=function(e,r,t,i){if(void 0===e)return null;var a=new n(e,r,t,i),s=Array.isArray(r.type)?r.type:[r.type];if(!s.some(this.testType.bind(this,e,r,t,i))){var o=s.map((function(e){return e.id&&"<"+e.id+">"||e+""}));a.addError({name:"type",argument:o,message:"is not of a type(s) "+o})}return a},s.anyOf=function(e,r,t,a){if(void 0===e)return null;var s=new n(e,r,t,a),m=new n(e,r,t,a);if(!Array.isArray(r.anyOf))throw new i("anyOf must be an array");if(!r.anyOf.some(o.bind(this,e,t,a,(function(e){m.importErrors(e)})))){var u=r.anyOf.map((function(e,r){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+r+"]"}));t.nestedErrors&&s.importErrors(m),s.addError({name:"anyOf",argument:u,message:"is not any of "+u.join(",")})}return s},s.allOf=function(e,r,t,a){if(void 0===e)return null;if(!Array.isArray(r.allOf))throw new i("allOf must be an array");var s=new n(e,r,t,a),o=this;return r.allOf.forEach((function(r,n){var i=o.validateSchema(e,r,t,a);if(!i.valid){var m=r.id&&"<"+r.id+">"||r.title&&JSON.stringify(r.title)||r.$ref&&"<"+r.$ref+">"||"[subschema "+n+"]";s.addError({name:"allOf",argument:{id:m,length:i.errors.length,valid:i},message:"does not match allOf schema "+m+" with "+i.errors.length+" error[s]:"}),s.importErrors(i)}})),s},s.oneOf=function(e,r,t,a){if(void 0===e)return null;if(!Array.isArray(r.oneOf))throw new i("oneOf must be an array");var s=new n(e,r,t,a),m=new n(e,r,t,a),u=r.oneOf.filter(o.bind(this,e,t,a,(function(e){m.importErrors(e)}))).length,c=r.oneOf.map((function(e,r){return e.id&&"<"+e.id+">"||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+r+"]"}));return 1!==u&&(t.nestedErrors&&s.importErrors(m),s.addError({name:"oneOf",argument:c,message:"is not exactly one from "+c.join(",")})),s},s.properties=function(e,r,t,i){if(this.types.object(e)){var a=new n(e,r,t,i),s=r.properties||{};for(var o in s){"function"==typeof t.preValidateProperty&&t.preValidateProperty(e,o,s[o],t,i);var m=Object.hasOwnProperty.call(e,o)?e[o]:void 0,u=this.validateSchema(m,s[o],t,i.makeChild(s[o],o));u.instance!==a.instance[o]&&(a.instance[o]=u.instance),a.importErrors(u)}return a}},s.patternProperties=function(e,r,t,i){if(this.types.object(e)){var a=new n(e,r,t,i),s=r.patternProperties||{};for(var o in e){var u=!0;for(var c in s){if(new RegExp(c).test(o)){u=!1,"function"==typeof t.preValidateProperty&&t.preValidateProperty(e,o,s[c],t,i);var f=this.validateSchema(e[o],s[c],t,i.makeChild(s[c],o));f.instance!==a.instance[o]&&(a.instance[o]=f.instance),a.importErrors(f)}}u&&m.call(this,e,r,t,i,o,a)}return a}},s.additionalProperties=function(e,r,t,i){if(this.types.object(e)){if(r.patternProperties)return null;var a=new n(e,r,t,i);for(var s in e)m.call(this,e,r,t,i,s,a);return a}},s.minProperties=function(e,r,t,i){if(this.types.object(e)){var a=new n(e,r,t,i);return Object.keys(e).length>=r.minProperties||a.addError({name:"minProperties",argument:r.minProperties,message:"does not meet minimum property length of "+r.minProperties}),a}},s.maxProperties=function(e,r,t,i){if(this.types.object(e)){var a=new n(e,r,t,i);return Object.keys(e).length<=r.maxProperties||a.addError({name:"maxProperties",argument:r.maxProperties,message:"does not meet maximum property length of "+r.maxProperties}),a}},s.items=function(e,r,t,i){var a=this;if(this.types.array(e)&&r.items){var s=new n(e,r,t,i);return e.every((function(e,n){var o=Array.isArray(r.items)?r.items[n]||r.additionalItems:r.items;if(void 0===o)return!0;if(!1===o)return s.addError({name:"items",message:"additionalItems not permitted"}),!1;var m=a.validateSchema(e,o,t,i.makeChild(o,n));return m.instance!==s.instance[n]&&(s.instance[n]=m.instance),s.importErrors(m),!0})),s}},s.minimum=function(e,r,t,i){if(this.types.number(e)){var a=new n(e,r,t,i);return(r.exclusiveMinimum&&!0===r.exclusiveMinimum?e>r.minimum:e>=r.minimum)||a.addError({name:"minimum",argument:r.minimum,message:"must have a minimum value of "+r.minimum}),a}},s.maximum=function(e,r,t,i){if(this.types.number(e)){var a=new n(e,r,t,i);return(r.exclusiveMaximum&&!0===r.exclusiveMaximum?e<r.maximum:e<=r.maximum)||a.addError({name:"maximum",argument:r.maximum,message:"must have a maximum value of "+r.maximum}),a}};var u=function(e,r,a,s,o,m){if(this.types.number(e)){var u=r[o];if(0==u)throw new i(o+" cannot be zero");var c=new n(e,r,a,s),f=t.getDecimalPlaces(e),d=t.getDecimalPlaces(u),h=Math.max(f,d),p=Math.pow(10,h);return Math.round(e*p)%Math.round(u*p)!=0&&c.addError({name:o,argument:u,message:m+JSON.stringify(u)}),c}};function c(e,r,n){var i,a=n.length;for(i=r+1;i<a;i++)if(t.deepCompareStrict(e,n[i]))return!1;return!0}s.multipleOf=function(e,r,t,n){return u.call(this,e,r,t,n,"multipleOf","is not a multiple of (divisible by) ")},s.divisibleBy=function(e,r,t,n){return u.call(this,e,r,t,n,"divisibleBy","is not divisible by (multiple of) ")},s.required=function(e,r,t,i){var a=new n(e,r,t,i);return void 0===e&&!0===r.required?a.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(r.required)&&r.required.forEach((function(r){void 0===e[r]&&a.addError({name:"required",argument:r,message:"requires property "+JSON.stringify(r)})})),a},s.pattern=function(e,r,t,i){if(this.types.string(e)){var a=new n(e,r,t,i);return e.match(r.pattern)||a.addError({name:"pattern",argument:r.pattern,message:"does not match pattern "+JSON.stringify(r.pattern.toString())}),a}},s.format=function(e,r,i,a){if(void 0!==e){var s=new n(e,r,i,a);return s.disableFormat||t.isFormat(e,r.format,this)||s.addError({name:"format",argument:r.format,message:"does not conform to the "+JSON.stringify(r.format)+" format"}),s}},s.minLength=function(e,r,t,i){if(this.types.string(e)){var a=new n(e,r,t,i),s=e.match(/[\uDC00-\uDFFF]/g);return e.length-(s?s.length:0)>=r.minLength||a.addError({name:"minLength",argument:r.minLength,message:"does not meet minimum length of "+r.minLength}),a}},s.maxLength=function(e,r,t,i){if(this.types.string(e)){var a=new n(e,r,t,i),s=e.match(/[\uDC00-\uDFFF]/g);return e.length-(s?s.length:0)<=r.maxLength||a.addError({name:"maxLength",argument:r.maxLength,message:"does not meet maximum length of "+r.maxLength}),a}},s.minItems=function(e,r,t,i){if(this.types.array(e)){var a=new n(e,r,t,i);return e.length>=r.minItems||a.addError({name:"minItems",argument:r.minItems,message:"does not meet minimum length of "+r.minItems}),a}},s.maxItems=function(e,r,t,i){if(this.types.array(e)){var a=new n(e,r,t,i);return e.length<=r.maxItems||a.addError({name:"maxItems",argument:r.maxItems,message:"does not meet maximum length of "+r.maxItems}),a}},s.uniqueItems=function(e,r,i,a){if(this.types.array(e)){var s=new n(e,r,i,a);return e.every((function(e,r,n){for(var i=r+1;i<n.length;i++)if(t.deepCompareStrict(e,n[i]))return!1;return!0}))||s.addError({name:"uniqueItems",message:"contains duplicate item"}),s}},s.uniqueItems=function(e,r,t,i){if(this.types.array(e)){var a=new n(e,r,t,i);return e.every(c)||a.addError({name:"uniqueItems",message:"contains duplicate item"}),a}},s.dependencies=function(e,r,t,i){if(this.types.object(e)){var a=new n(e,r,t,i);for(var s in r.dependencies)if(void 0!==e[s]){var o=r.dependencies[s],m=i.makeChild(o,s);if("string"==typeof o&&(o=[o]),Array.isArray(o))o.forEach((function(r){void 0===e[r]&&a.addError({name:"dependencies",argument:m.propertyPath,message:"property "+r+" not found, required by "+m.propertyPath})}));else{var u=this.validateSchema(e,o,t,m);a.instance!==u.instance&&(a.instance=u.instance),u&&u.errors.length&&(a.addError({name:"dependencies",argument:m.propertyPath,message:"does not meet dependency required by "+m.propertyPath}),a.importErrors(u))}}return a}},s.enum=function(e,r,a,s){if(void 0===e)return null;if(!Array.isArray(r.enum))throw new i("enum expects an array",r);var o=new n(e,r,a,s);return r.enum.some(t.deepCompareStrict.bind(null,e))||o.addError({name:"enum",argument:r.enum,message:"is not one of enum values: "+r.enum.map(String).join(",")}),o},s.const=function(e,r,i,a){if(void 0===e)return null;var s=new n(e,r,i,a);return t.deepCompareStrict(r.const,e)||s.addError({name:"const",argument:r.const,message:"does not exactly match expected constant: "+r.const}),s},s.not=s.disallow=function(e,r,t,i){var a=this;if(void 0===e)return null;var s=new n(e,r,t,i),o=r.not||r.disallow;return o?(Array.isArray(o)||(o=[o]),o.forEach((function(n){if(a.testType(e,r,t,i,n)){var o=n&&n.id&&"<"+n.id+">"||n;s.addError({name:"not",argument:o,message:"is of prohibited type "+o})}})),s):null};var f=a;function d(e,r){this.id=e,this.ref=r}var h={SchemaScanResult:d,scan:function(r,n){function i(r,n){if(n&&"object"==typeof n)if(n.$ref){var u=e.resolve(r,n.$ref);m[u]=m[u]?m[u]+1:0}else{var c=n.id?e.resolve(r,n.id):r;if(c){if(c.indexOf("#")<0&&(c+="#"),o[c]){if(!t.deepCompareStrict(o[c],n))throw new Error("Schema <"+n+"> already exists with different definition");return o[c]}o[c]=n,"#"==c[c.length-1]&&(o[c.substring(0,c.length-1)]=n)}a(c+"/items",n.items instanceof Array?n.items:[n.items]),a(c+"/extends",n.extends instanceof Array?n.extends:[n.extends]),i(c+"/additionalItems",n.additionalItems),s(c+"/properties",n.properties),i(c+"/additionalProperties",n.additionalProperties),s(c+"/definitions",n.definitions),s(c+"/patternProperties",n.patternProperties),s(c+"/dependencies",n.dependencies),a(c+"/disallow",n.disallow),a(c+"/allOf",n.allOf),a(c+"/anyOf",n.anyOf),a(c+"/oneOf",n.oneOf),i(c+"/not",n.not)}}function a(e,r){if(r instanceof Array)for(var t=0;t<r.length;t++)i(e+"/"+t,r[t])}function s(e,r){if(r&&"object"==typeof r)for(var t in r)i(e+"/"+t,r[t])}var o={},m={};return i(r,n),new d(o,m)}},p=h.scan,l=t.ValidatorResult,y=t.SchemaError,v=t.SchemaContext,g=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(w),this.attributes=Object.create(f.validators)};function b(e){var r="string"==typeof e?e:e.$ref;return"string"==typeof r&&r}g.prototype.customFormats={},g.prototype.schemas=null,g.prototype.types=null,g.prototype.attributes=null,g.prototype.unresolvedRefs=null,g.prototype.addSchema=function(e,r){var t=this;if(!e)return null;var n=p(r||"/",e),i=r||e.id;for(var a in n.id)this.schemas[a]=n.id[a];for(var a in n.ref)this.unresolvedRefs.push(a);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===t.schemas[e]})),this.schemas[i]},g.prototype.addSubSchemaArray=function(e,r){if(r instanceof Array)for(var t=0;t<r.length;t++)this.addSubSchema(e,r[t])},g.prototype.addSubSchemaObject=function(e,r){if(r&&"object"==typeof r)for(var t in r)this.addSubSchema(e,r[t])},g.prototype.setSchemas=function(e){this.schemas=e},g.prototype.getSchema=function(e){return this.schemas[e]},g.prototype.validate=function(r,t,n,i){n||(n={});var a=n.propertyName||"instance",s=e.resolve(n.base||"/",t.id||"");if(!i){(i=new v(t,n,a,s,Object.create(this.schemas))).schemas[s]||(i.schemas[s]=t);var o=p(s,t);for(var m in o.id){var u=o.id[m];i.schemas[m]=u}}if(t){var c=this.validateSchema(r,t,n,i);if(!c)throw new Error("Result undefined");return c}throw new y("no schema specified",t)},g.prototype.validateSchema=function(e,r,n,i){var a,s=new l(e,r,n,i);if("boolean"==typeof r)!0===r?r={}:!1===r&&(r={type:[]});else if(!r)throw new Error("schema is undefined");if(r.extends)if(r.extends instanceof Array){var o={schema:r,ctx:i};r.extends.forEach(this.schemaTraverser.bind(this,o)),r=o.schema,o.schema=null,o.ctx=null,o=null}else r=t.deepMerge(r,this.superResolve(r.extends,i));if(a=b(r)){var m=this.resolve(r,a,i),u=new v(m.subschema,n,i.propertyPath,m.switchSchema,i.schemas);return this.validateSchema(e,m.subschema,n,u)}var c=n&&n.skipAttributes||[];for(var d in r)if(!f.ignoreProperties[d]&&c.indexOf(d)<0){var h=null,p=this.attributes[d];if(p)h=p.call(this,e,r,n,i);else if(!1===n.allowUnknownAttributes)throw new y("Unsupported attribute: "+d,r);h&&s.importErrors(h)}if("function"==typeof n.rewrite){var g=n.rewrite.call(this,e,r,n,i);s.instance=g}return s},g.prototype.schemaTraverser=function(e,r){e.schema=t.deepMerge(e.schema,this.superResolve(r,e.ctx))},g.prototype.superResolve=function(e,r){var t;return(t=b(e))?this.resolve(e,t,r).subschema:e},g.prototype.resolve=function(r,n,i){if(n=i.resolve(n),i.schemas[n])return{subschema:i.schemas[n],switchSchema:n};var a=e.parse(n),s=a&&a.hash,o=s&&s.length&&n.substr(0,n.length-s.length);if(!o||!i.schemas[o])throw new y("no such schema <"+n+">",r);var m=t.objectGetPath(i.schemas[o],s.substr(1));if(void 0===m)throw new y("no such schema "+s+" located in <"+o+">",r);return{subschema:m,switchSchema:n}},g.prototype.testType=function(e,r,t,n,i){if("function"==typeof this.types[i])return this.types[i].call(this,e);if(i&&"object"==typeof i){var a=this.validateSchema(e,i,t,n);return void 0===a||!(a&&a.errors.length)}return!0};var w=g.prototype.types={};w.string=function(e){return"string"==typeof e},w.number=function(e){return"number"==typeof e&&isFinite(e)},w.integer=function(e){return"number"==typeof e&&e%1==0},w.boolean=function(e){return"boolean"==typeof e},w.array=function(e){return Array.isArray(e)},w.null=function(e){return null===e},w.date=function(e){return e instanceof Date},w.any=function(e){return!0},w.object=function(e){return e&&"object"==typeof e&&!(e instanceof Array)&&!(e instanceof Date)};var E=g,x=r((function(e){var r=e.exports.Validator=E;e.exports.ValidatorResult=t.ValidatorResult,e.exports.ValidationError=t.ValidationError,e.exports.SchemaError=t.SchemaError,e.exports.SchemaScanResult=h.SchemaScanResult,e.exports.scan=h.scan,e.exports.validate=function(e,t,n){return(new r).validate(e,t,n)}})),A=(x.Validator,x.ValidatorResult,x.ValidationError,x.SchemaError,x.SchemaScanResult,x.scan,x.validate);export default function(e,r){const{errors:t}=A(e,r);if(t.length)throw t[0]}
